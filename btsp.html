<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		
		<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css">
		<script src="http://code.jquery.com/jquery-2.0.0.min.js"></script>
		<script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js"></script>
		<script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
		
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.0/bootstrap-table.min.css">
		<!-- Latest compiled and minified JavaScript -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.0/bootstrap-table.min.js"></script>
		<!-- Latest compiled and minified Locales -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.0/locale/bootstrap-table-zh-CN.min.js"></script>


		<script type="application/javascript">
			
			var $Mrbird = (function() {
			    var bootstrapTable_default = {
			        method: 'get',
			        striped: true,
			        cache: false,
			        pagination: true,
			        sortable: false,
			        sidePagination: "server",
			        pageNumber: 1,
			        pageSize: 5,
			        pageList: [5, 10, 25, 50, 100],
			        strictSearch: true,
			        showColumns: false,
			        minimumCountColumns: 2,
			        clickToSelect: true,
			        uniqueId: "ID",
			        cardView: false,
			        detailView: false,
			        smartDisplay: false,
			        queryParams: function(params) {
			            return {
			                pageSize: params.limit,
			                pageNum: params.offset / params.limit + 1,
			            };
			        }
			    }
			    function _initTable(id, settings) {
			        var params = $.extend({}, bootstrapTable_default, settings);
			        if (typeof params.url == 'undefined') {
			            throw '初始化表格失败，请配置url参数！';
			        }
			        if (typeof params.columns == 'undefined') {
			            throw '初始化表格失败，请配置columns参数！';
			        }
			        $('#' + id).bootstrapTable(params);
			    }
			    return {
			        initTable: function(id, settings) {
			            _initTable(id, settings);
			        },
			        refreshTable: function(id) {
			            $('#' + id).bootstrapTable('refresh');
			        }
			    }
			})($);
			
			$(function() {
			    var settings = {
			        url: ctx + "bootstrap-table/list",
			        queryParams: function(params) {
			            return {
			                pageSize: params.limit,
			                pageNum: params.offset / params.limit + 1,
			                roleName: $(".form").find("input[name='roleName']").val().trim(),
			            };
			        },
			        columns: [{
			                checkbox: true
			            },
			            {
			                field: 'roleId',
			                title: '角色ID'
			            }, {
			                field: 'roleName',
			                title: '角色'
			            }, {
			                field: 'remark',
			                title: '描述'
			            }, {
			                field: 'createTime',
			                title: '创建时间'
			            }, {
			                field: 'modifyTime',
			                title: '修改时间'
			            }
			        ]
			    }
			    $Mrbird.initTable('roleTable', settings);
			});
			
		</script>

	</head>
	<body>
		<form class="form">
		    <div class="row">
		        <div class="col">
		            <div class="input-group">
		                <span class="input-group-addon">角色：</span>
		                <div class="form-group">
		                    <input type="text" name="roleName" class="form-control">
		                </div>
		            </div>
		        </div>
		        <div class="col"></div>
		        <div class="col">
		            <button type="button" class="btn btn-success" onclick="refresh()">重置</button>
		            <button type="button" class="btn btn-primary" onclick="search()">搜索</button>
		        </div>
		    </div>
		</form>
		<table id="roleTable" data-mobile-responsive="true" class="mb-bootstrap-table text-nowrap"></table>	
	</body>
</html>
